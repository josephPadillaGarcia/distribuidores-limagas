(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{180:function(e,t,s){"use strict";var n={components:{Skeleton:s(167).a}},a=s(158),l=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"w-25 mb-2"},[s("Skeleton")],1),e._v(" "),s("div",{staticClass:"mb-2"},[s("Skeleton")],1),e._v(" "),s("div",{staticClass:"w-25 mb-2"},[s("Skeleton")],1),e._v(" "),s("div",{staticClass:"mb-2"},[s("Skeleton")],1),e._v(" "),s("div",{staticClass:"w-25 mb-2"},[s("Skeleton")],1),e._v(" "),s("div",{staticClass:"mb-2"},[s("Skeleton")],1),e._v(" "),s("div",{staticClass:"w-25 mb-2"},[s("Skeleton")],1),e._v(" "),s("div",{staticClass:"mb-2"},[s("Skeleton")],1),e._v(" "),s("div",{staticClass:"text-right"},[s("div",{staticClass:"w-25 ml-auto"},[s("Skeleton")],1)])])}),[],!1,null,null,null);t.a=l.exports},196:function(e,t,s){"use strict";var n={props:{type:String,urlEs:{type:String,required:!1},showEnglish:{default:!1,type:Boolean},urlEn:{type:String,required:!1},parentSlug:{type:String,required:!1},label:String,variable:String,errors:Object,valueEnParent:String,valueEsParent:String,slugEnParent:String,slugEsParent:String},data:function(){return{active:"es",value:{en:"",es:"",slug_es:"",slug_en:"",editBlock_es:!1,editBlock_en:!1,slugEdited_en:!1,slugEdited_es:!1},random:Math.ceil(10*Math.random())}},methods:{toggle:function(e){this.active=e},getSlug:function(){this.value["editBlock_"+this.active]=!this.value["editBlock_"+this.active],this.value["slugEdited_"+this.active]=!this.value["slugEdited_"+this.active]}},watch:{slugEnParent:{immediate:!0,handler:function(e){e&&(this.value.slug_en=e)}},slugEsParent:{immediate:!0,handler:function(e){e&&(this.value.slug_es=e)}},valueEnParent:{immediate:!0,handler:function(e){this.value.en=e}},valueEsParent:{immediate:!0,handler:function(e){this.value.es=e}},"value.en":function(e,t){this.value.slugEdited_en||(this.value.slug_en=e),this.$emit("update:valueEn",e)},"value.es":function(e,t){this.value.slugEdited_es||(this.value.slug_es=e),this.$emit("update:valueEs",e)},"value.slug_es":function(e,t){this.value.slug_es=Slug(e),this.$emit("update:slugEs",this.value.slug_es)},"value.slug_en":function(e,t){this.value.slug_en=Slug(e),this.$emit("update:slugEn",this.value.slug_en)}},computed:{countErrors:function(){if(Object.keys(this.errors).length){var e=0;for(var t in this.errors)t!=this.variable+"_en"&&t!=this.variable+"_es"||e++;return e}}}},a=s(158),l=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-group"},[s("div",{staticClass:"d-flex"},[s("a",{staticClass:"btn btn-sm py-0 px-2 btn-icon mr-1",class:"es"==e.active?"btn-primary":"btn-outline-primary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toggle("es")}}},[s("span",{staticClass:"btn-inner--icon"},[s("gb-flag",{attrs:{code:"es",size:"small"}})],1),e._v(" "),s("span",{staticClass:"btn-inner--text"},[e._v("Español")])]),e._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:e.showEnglish,expression:"showEnglish"}],staticClass:"btn btn-sm py-0 px-2 btn-icon",class:"en"==e.active?"btn-primary":"btn-outline-primary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toggle("en")}}},[s("span",{staticClass:"btn-inner--icon"},[s("gb-flag",{attrs:{code:"gb",size:"small"}})],1),e._v(" "),s("span",{staticClass:"btn-inner--text"},[e._v("Inglés")])]),e._v(" "),e.countErrors?s("div",{staticClass:"d-inline-block ml-auto text-danger mt-1"},[e._v(e._s(e.countErrors)+" "+e._s(e.countErrors>1?"Errores":"Error"))]):e._e()]),e._v(" "),s("div",{staticClass:"mt-2"},[s("label",{staticClass:"font-weight-bold",attrs:{for:e.label+e.random}},[e._v(e._s(e.label)+":")])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.value[e.active],expression:"value[ active ]"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.value[e.active]},on:{input:function(t){t.target.composing||e.$set(e.value,e.active,t.target.value)}}}),e._v(" "),s("div",{staticClass:"mt-3"},[s("small",[e._v(e._s("es"==e.active?e.urlEs:e.urlEn)+e._s(e.parentSlug?e.parentSlug+"/":""))]),e._v(" "),e.value["editBlock_"+e.active]?e._e():s("small",{staticClass:"bg-dark text-white",staticStyle:{"letter-spacing":"0.05rem"}},[e._v(e._s(e.value["slug_"+e.active]))]),e._v(" "),e.value["editBlock_"+e.active]?s("input",{directives:[{name:"model",rawName:"v-model",value:e.value["slug_"+e.active],expression:"value[ 'slug_'+active ]"}],staticClass:"form-control form-control-sm d-inline w-50",attrs:{type:"text"},domProps:{value:e.value["slug_"+e.active]},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.getSlug.apply(null,arguments))},input:function(t){t.target.composing||e.$set(e.value,"slug_"+e.active,t.target.value)}}}):e._e(),e._v(" "),!e.value["editBlock_"+e.active]&&e.value["slug_"+e.active]?s("button",{staticClass:"btn btn-inverse-info btn-sm ml-2",attrs:{type:"button"},on:{click:function(t){e.value["editBlock_"+e.active]=!e.value["editBlock_"+e.active]}}},[e._v("Editar "+e._s(e.type))]):e._e(),e._v(" "),e.value["editBlock_"+e.active]?s("button",{staticClass:"btn btn-inverse-info btn-sm ml-2",attrs:{type:"button"},on:{click:e.getSlug}},[e._v("Aceptar")]):e._e()]),e._v(" "),e._l(e.errors,(function(t,n){return s("div",{key:n},[n==e.variable+"_"+e.active?s("label",{staticClass:"text-danger text-sm mt-2 d-block"},[e._v(e._s(t[0]))]):e._e()])}))],2)}),[],!1,null,null,null);t.a=l.exports},609:function(e,t,s){"use strict";s.r(t);var n,a=s(169),l=s(230),i=s(164),r=s(196),o=s(180),u=s(179);function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var m={components:{DataTable:l.a,Button:i.a,BreadCrumb:a.a,InputSlug:r.a,SkeletonForm:o.a,Destroy:u.a},props:{routeGetAll:String,route:String,messageCantDelete:String},data:function(){return{elements:{},element:{slug_en:"",slug_es:"",name_en:"",name_es:""},loadingGet:!1,title:"",elementsPerPage:10,errors:{},modalCreateUpdate:!1,modalDestroy:!1,requestSubmit:!1}},methods:(n={destroyConfirm:function(){var e=this;this.requestSubmit=!0,axios.delete(this.route+"/"+this.element.id).then((function(t){e.requestSubmit=!1,e.restore(),Swal.fire({title:t.data.title,text:t.data.message,type:"success",confirmButtonText:"OK",buttonsStyling:!1,customClass:{confirmButton:"btn btn-inverse-primary"}})})).catch((function(t){Swal.fire({title:t.response.data.title,text:t.response.data.message,type:"error",confirmButtonText:"OK",buttonsStyling:!1,customClass:{confirmButton:"btn btn-inverse-primary"}}),e.restoreEl()}))},restore:function(){this.errors={},this.element={slug_en:"",slug_es:"",name_en:"",name_es:""},this.modalCreateUpdate=this.modalDestroy=!1,this.getElements(1,this.elementsPerPage)},editEl:function(e){this.title="Actualizar",this.modalCreateUpdate=!0,this.getEl(e)},submit:function(){var e,t,s=this;this.requestSubmit=!0,"Nueva"==this.title?(e=this.route,t="post"):(e=this.route+"/"+this.element.id,t="put"),axios({method:t,url:e,data:this.element}).then((function(e){s.requestSubmit=!1,Swal.fire({title:e.data.title,text:e.data.message,type:"success",confirmButtonText:"OK",buttonsStyling:!1,customClass:{confirmButton:"btn btn-inverse-primary"}}),s.restore()})).catch((function(e){s.requestSubmit=!1,422!==e.response.status?(Swal.fire({title:e.response.data.title,text:e.response.data.message,type:"error",confirmButtonText:"OK",buttonsStyling:!1,customClass:{confirmButton:"btn btn-inverse-primary"}}),s.restoreEl()):s.errors=e.response.data.errors||{}}))},deleteEl:function(e){this.modalDestroy=!0,this.getEl(e)},restoreEl:function(){this.errors={},this.element={slug_en:"",slug_es:"",name_en:"",name_es:""},this.modalDestroy=!1,this.modalCreateUpdate=!1}},c(n,"deleteEl",(function(e){this.modalDestroy=!0,this.getEl(e)})),c(n,"getElements",(function(e,t){var s=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.routeGetAll+"?page="+e+"&itemsPerPage="+t;n&&(a=a+"&q="+n),axios.get(a).then((function(e){s.elements=e.data})).catch((function(e){}))})),c(n,"getEl",(function(e){var t=this;this.loadingGet=!0,axios.get(this.route+"/json/get/"+e).then((function(e){t.element=e.data,t.loadingGet=!1})).catch((function(e){}))})),c(n,"newEl",(function(){this.title="Nueva",this.modalCreateUpdate=!0})),n),created:function(){this.getElements(1,this.elementsPerPage)}},v=s(158),d=Object(v.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"header pb-6"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"header-body"},[s("div",{staticClass:"row align-items-center pt-0 pt-md-2 pb-4"},[s("div",{staticClass:"col-6 col-md-7"},[s("BreadCrumb",{attrs:{title:"Categorías",parent:"Blog",active:"Categorías"}})],1),e._v(" "),s("div",{staticClass:"col-6 col-md-5 text-right"},[s("a",{staticClass:"btn btn-icon btn-inverse-primary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.newEl.apply(null,arguments)}}},[s("span",{staticClass:"btn-inner--icon"}),e._v(" "),s("span",{staticClass:"btn-inner--text"},[e._v("Nueva Categoría")])])])])])])]),e._v(" "),s("div",{staticClass:"container-fluid mt--6"},[s("DataTable",{attrs:{object:e.elements,placeholder:"Nombre","button-update":!0,"button-read":!1,"button-delete":!0,"entries-prop":e.elementsPerPage,messageCantDelete:e.messageCantDelete},on:{get:e.getElements,delete:e.deleteEl,update:e.editEl,"update:entriesProp":function(t){e.elementsPerPage=t},"update:entries-prop":function(t){e.elementsPerPage=t}}})],1),e._v(" "),s("b-modal",{attrs:{"no-close-on-esc":"","no-close-on-backdrop":"",centered:"","footer-class":"border-0 pt-0","body-class":"pt-0"},on:{close:e.restoreEl},scopedSlots:e._u([{key:"modal-footer",fn:function(t){t.ok;return[s("Button",{attrs:{classes:["btn-inverse-primary"],text:"Nueva"==e.title?"Crear":"Actualizar","request-server":e.requestSubmit},on:{click:e.submit}}),e._v(" "),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:e.restoreEl}},[e._v("Cancelar")])]}}]),model:{value:e.modalCreateUpdate,callback:function(t){e.modalCreateUpdate=t},expression:"modalCreateUpdate"}},[s("template",{slot:"modal-title"},[s("div",{staticClass:"text-primary h2"},[e._v(e._s(e.title)+" Categoría")])]),e._v(" "),s("template",{slot:"modal-header-close"},[s("button",{staticClass:"btn p-0 bg-transparent",attrs:{type:"button"},on:{click:e.restoreEl}},[s("i",{staticClass:"ri-close-line ri-lg"})])]),e._v(" "),e.loadingGet?s("div",[s("SkeletonForm")],1):s("div",[s("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("InputSlug",{attrs:{label:"Nombre",variable:"name",type:"Etiqueta",errors:e.errors,valueEn:e.element.name_en,valueEs:e.element.name_es,slugEn:e.element.slug_en,slugEs:e.element.slug_es,valueEnParent:e.element.name_en,valueEsParent:e.element.name_es,slugEnParent:e.element.slug_en,slugEsParent:e.element.slug_es},on:{"update:valueEn":function(t){return e.$set(e.element,"name_en",t)},"update:value-en":function(t){return e.$set(e.element,"name_en",t)},"update:valueEs":function(t){return e.$set(e.element,"name_es",t)},"update:value-es":function(t){return e.$set(e.element,"name_es",t)},"update:slugEn":function(t){return e.$set(e.element,"slug_en",t)},"update:slug-en":function(t){return e.$set(e.element,"slug_en",t)},"update:slugEs":function(t){return e.$set(e.element,"slug_es",t)},"update:slug-es":function(t){return e.$set(e.element,"slug_es",t)}}})],1)])])])],2),e._v(" "),s("destroy",{attrs:{element:"categoría",open:e.modalDestroy,"loading-get":e.loadingGet,"loading-submit":e.requestSubmit},on:{cancel:e.restoreEl,submit:e.destroyConfirm}})],1)}),[],!1,null,null,null);t.default=d.exports}}]);