(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{53:function(e,t,s){"use strict";s.r(t);var r=s(52),a={props:{quantity:Array,services:Array,service:Object,locale:String,showServices:{default:!1,type:Boolean}},data:function(){return{request:!1,success:!1,form:{name:"",quantity_packages:"",service_id:"",accepted:!0,acceptedtc:!0},errors:{},sitekey:"6LfQG4YfAAAAANWF2kNqbXjmG6CeJ5sQnQ4wnQdm",messageCaptcha:"",captchaPass:!1,errorCaptcha:""}},methods:{t:function(e){return this.$t(e,this.locale)},submit:function(){var e=this;if(!this.captchaPass)return this.errorCaptcha="Debes completar el captcha.",!1;this.request=!0,this.form.isPage=this.showServices,this.showServices||(this.form.service_id=this.service.id),axios.post("/api/post/lead",this.form).then((function(t){e.request=!1,e.success=!0})).catch((function(t){e.request=!1,422!==t.response.status||(e.errors=t.response.data.errors||{})}))},onVerify:function(e){var t=this,s={};s.g_recaptcha_response=e,console.log(s),axios.post("/api/post/captchaverify",s).then((function(){t.messageCaptcha="",t.captchaPass=!0})).catch((function(e){t.messageCaptcha="Por favor, completa el captcha.",t.$refs.recaptcha.reset()}))}},watch:{success:function(e,t){this.$emit("update:successProp",Boolean(e))}},components:{VueRecaptcha:r.a}},c=s(9),o={name:"FormQuote",components:{Form:Object(c.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide-fade"}},[e.success?s("div",{key:"true",staticClass:"form__text-success-2"},[s("h3",[s("b",[e._v("¡"+e._s(e.t("Excelente"))+"!")])]),e._v(" "),s("p",[e._v("\n            "+e._s(e.t("Hemos registrado tus datos con éxito. Pronto nos pondremos contacto contigo."))+".\n        ")]),e._v(" "),s("b",[e._v("¡"+e._s(e.t("Gracias por solicitar información"))+"!")])]):s("form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"grupo-form"},[s("label",{attrs:{for:"name"}},[e._v(e._s(e.t("Nombre y Apellidos"))+"*")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],attrs:{type:"text",id:"name"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e._v(" "),e.errors&&e.errors.name?s("span",{staticClass:"error error-red",attrs:{for:"name"}},[e._v("\n                        "+e._s(e.t(e.errors.name[0]))+"\n                    ")]):e._e()])]),e._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"grupo-form"},[s("label",{attrs:{for:"email"}},[e._v(e._s(e.t("Correo electrónico"))+"*")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{type:"text",id:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e._v(" "),e.errors&&e.errors.email?s("span",{staticClass:"error error-red",attrs:{for:"email"}},[e._v("\n                        "+e._s(e.t(e.errors.email[0]))+"\n                    ")]):e._e()])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"grupo-form"},[s("label",{attrs:{for:"celular"}},[e._v(e._s(e.t("Celular"))+"*")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.mobile,expression:"form.mobile"}],attrs:{type:"number",id:"celular"},domProps:{value:e.form.mobile},on:{input:function(t){t.target.composing||e.$set(e.form,"mobile",t.target.value)}}}),e._v(" "),e.errors&&e.errors.mobile?s("span",{staticClass:"error error-red",attrs:{for:"mobile"}},[e._v("\n                        "+e._s(e.t(e.errors.mobile[0]))+"\n                    ")]):e._e()])]),e._v(" "),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"grupo-form"},[s("label",{attrs:{for:"business"}},[e._v(e._s(e.t("Empresa"))+"*")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.business,expression:"form.business"}],attrs:{type:"text",id:"business"},domProps:{value:e.form.business},on:{input:function(t){t.target.composing||e.$set(e.form,"business",t.target.value)}}}),e._v(" "),e.errors&&e.errors.business?s("span",{staticClass:"error error-red",attrs:{for:"business"}},[e._v("\n                        "+e._s(e.t(e.errors.business[0]))+"\n                    ")]):e._e()])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"grupo-form"},[s("label",{attrs:{for:"quantity_packages"}},[e._v("\n                        "+e._s(e.t("Cantidad estimada de paquetes mensuales"))+":\n                    ")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.form.quantity_packages,expression:"form.quantity_packages"}],staticClass:"form-select",attrs:{id:"quantity_packages"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"quantity_packages",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",selected:""}},[e._v(e._s(e.t("Selecciona")))]),e._v(" "),e._l(e.quantity,(function(t){return s("option",{key:t.id,domProps:{value:t.name_es}},[e._v("\n                            "+e._s(t["name_"+e.locale]?t["name_"+e.locale]:t.name_es)+"\n                        ")])}))],2),e._v(" "),e.errors&&e.errors.quantity_packages?s("span",{staticClass:"error error-red",attrs:{for:"quantity_packages"}},[e._v("\n                        "+e._s(e.t(e.errors.quantity_packages[0]))+"\n                    ")]):e._e()])])]),e._v(" "),e.showServices?s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"grupo-form"},[s("label",{attrs:{for:"service"}},[e._v(e._s(e.t("Tipo de Servicio"))+":")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.form.service_id,expression:"form.service_id"}],staticClass:"form-select",attrs:{id:"service"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"service_id",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",selected:""}},[e._v(e._s(e.t("Selecciona")))]),e._v(" "),e._l(e.services,(function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                            "+e._s(t["title_"+e.locale])+"\n                        ")])}))],2),e._v(" "),e.errors&&e.errors.service_id?s("span",{staticClass:"error error-red",attrs:{for:"service_id"}},[e._v("\n                        "+e._s(e.t(e.errors.service_id[0]))+"\n                    ")]):e._e()])])]):e._e(),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"grupo-form"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.accepted,expression:"form.accepted"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"accepted",checked:""},domProps:{checked:Array.isArray(e.form.accepted)?e._i(e.form.accepted,null)>-1:e.form.accepted},on:{change:function(t){var s=e.form.accepted,r=t.target,a=!!r.checked;if(Array.isArray(s)){var c=e._i(s,null);r.checked?c<0&&e.$set(e.form,"accepted",s.concat([null])):c>-1&&e.$set(e.form,"accepted",s.slice(0,c).concat(s.slice(c+1)))}else e.$set(e.form,"accepted",a)}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"accepted"}},[e._v("\n                        "+e._s(e.t("Acepto las"))+"\n                        "),s("a",{attrs:{href:e.localePath("politicas-privacidad",e.locale)}},[e._v("\n                            "+e._s(e.t("políticas de privacidad web"))+"\n                        ")])]),e.errors&&e.errors.accepted?s("span",{staticClass:"error error-red",attrs:{for:"accepted"}},[e._v("\n                        "+e._s(e.t(e.errors.accepted[0]))+"\n                    ")]):e._e()])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"grupo-form"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.acceptedtc,expression:"form.acceptedtc"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"acceptedtc",checked:""},domProps:{checked:Array.isArray(e.form.acceptedtc)?e._i(e.form.acceptedtc,null)>-1:e.form.acceptedtc},on:{change:function(t){var s=e.form.acceptedtc,r=t.target,a=!!r.checked;if(Array.isArray(s)){var c=e._i(s,null);r.checked?c<0&&e.$set(e.form,"acceptedtc",s.concat([null])):c>-1&&e.$set(e.form,"acceptedtc",s.slice(0,c).concat(s.slice(c+1)))}else e.$set(e.form,"acceptedtc",a)}}}),e._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"acceptedtc"}},[e._v("\n                        "+e._s(e.t("Aceptar los"))+"\n                        "),s("a",{attrs:{href:"#!"}},[e._v("\n                            "+e._s(e.t("Términos y Condiciones"))+"\n                        ")])]),e.errors&&e.errors.acceptedtc?s("span",{staticClass:"error error-red",attrs:{for:"acceptedtc"}},[e._v("\n                        "+e._s(e.t(e.errors.acceptedtc[0]))+"\n                    ")]):e._e()])])]),e._v(" "),s("div",[s("vue-recaptcha",{ref:"recaptcha",attrs:{sitekey:e.sitekey,loadRecaptchaScript:!0},on:{verify:e.onVerify}}),e._v(" "),e.errorCaptcha?s("div",{staticClass:"message-error"},[e._v("\n                "+e._s(e.errorCaptcha)+"\n            ")]):e._e(),e._v(" "),e.messageCaptcha?s("div",{staticClass:"message-error"},[e._v("\n                "+e._s(e.messageCaptcha)+"\n            ")]):e._e()],1),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("button",{class:e.request?"btn--opacity":"",attrs:{type:"submit",disabled:e.request}},[e._v("\n                    "+e._s(e.request?e.t("Cargando")+"...":e.t("Enviar"))+"\n                ")])])])])])}),[],!1,null,null,null).exports},props:{title:{type:String},description:{type:String},quantity:{type:Array},services:{type:Array},service:{type:Object},showServices:{default:!1,type:Boolean},withDescription:{default:!0,type:Boolean},locale:{type:String}},data:function(){return{success:!1}}},i=Object(c.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-lg-6"},[e.success?e._e():s("div",[e.title?s("h3",[e._v("\n            "+e._s(e.title)+"\n        ")]):e._e(),e._v(" "),e.description&&e.withDescription?s("div",{domProps:{innerHTML:e._s(e.description)}}):e._e()]),e._v(" "),s("Form",{attrs:{"success-prop":e.success,quantity:e.quantity,showServices:e.showServices,services:e.services,service:e.service,locale:e.locale},on:{"update:successProp":function(t){e.success=t},"update:success-prop":function(t){e.success=t}}})],1)}),[],!1,null,null,null);t.default=i.exports}}]);